<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S&P 500 Stream (Self-Contained)</title>
    <style>
        /* 1. LAYOUT */
        body {
            margin: 0;
            padding: 0;
            background-color: transparent; /* Transparent for OBS */
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 40px; /* Gap between bars */
        }

        /* 2. BAR STYLE */
        .ticker-wrapper {
            width: 90%;
            height: 90px;
            background-color: #000;
            border: 2px solid #333;
            box-shadow: 0 0 50px rgba(0,0,0,0.9);
            border-radius: 8px;
            
            /* ZOOM: Make text 30% bigger */
            transform: scale(1.3);
            
            /* SAFETY: Disable clicking to prevent errors */
            pointer-events: none; 
        }

        /* 3. LOADING TEXT */
        #status {
            position: absolute;
            top: 20px;
            color: #00D5FF;
            font-family: monospace;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(0, 213, 255, 0.5);
            z-index: 100;
        }
    </style>
</head>
<body>

    <div id="status">CONNECTING STREAMS...</div>

    <div class="ticker-wrapper" id="bar-1"></div>
    <div class="ticker-wrapper" id="bar-2"></div>
    <div class="ticker-wrapper" id="bar-3"></div>

<script>
    // --- DATA SECTION ---
    // Since we cannot "fetch" from a file, we hardcode the top ~150 stocks here.
    
    const BAR_1_SYMBOLS = [
        { "proName": "FOREXCOM:SPXUSD", "title": "S&P 500" },
        { "proName": "FOREXCOM:NSXUSD", "title": "Nasdaq 100" },
        { "proName": "BITSTAMP:BTCUSD", "title": "Bitcoin" },
        { "proName": "BITSTAMP:ETHUSD", "title": "Ethereum" },
        { "proName": "NASDAQ:NVDA", "description": "Nvidia" },
        { "proName": "NASDAQ:TSLA", "description": "Tesla" },
        { "proName": "NASDAQ:AAPL", "description": "Apple" },
        { "proName": "NASDAQ:AMZN", "description": "Amazon" },
        { "proName": "NASDAQ:MSFT", "description": "Microsoft" },
        { "proName": "NASDAQ:GOOGL", "description": "Google" },
        { "proName": "NASDAQ:META", "description": "Meta" },
        { "proName": "NASDAQ:AMD", "description": "AMD" },
        { "proName": "NASDAQ:NFLX", "description": "Netflix" },
        { "proName": "NYSE:DIS", "description": "Disney" },
        { "proName": "NASDAQ:COST", "description": "Costco" },
        { "proName": "NASDAQ:PEP", "description": "Pepsi" },
        { "proName": "NYSE:KO", "description": "Coca-Cola" },
        { "proName": "NYSE:WMT", "description": "Walmart" },
        { "proName": "NYSE:JPM", "description": "JPMorgan" },
        { "proName": "NYSE:V", "description": "Visa" },
        { "proName": "NYSE:MA", "description": "Mastercard" },
        { "proName": "NYSE:XOM", "description": "Exxon" },
        { "proName": "NYSE:CVX", "description": "Chevron" },
        { "proName": "NYSE:LLY", "description": "Eli Lilly" },
        { "proName": "NYSE:UNH", "description": "UnitedHealth" },
        { "proName": "NASDAQ:AVGO", "description": "Broadcom" },
        { "proName": "NASDAQ:INTC", "description": "Intel" },
        { "proName": "NASDAQ:QCOM", "description": "Qualcomm" },
        { "proName": "NYSE:CRM", "description": "Salesforce" },
        { "proName": "NASDAQ:ADBE", "description": "Adobe" },
        { "proName": "NYSE:ORCL", "description": "Oracle" },
        { "proName": "NYSE:IBM", "description": "IBM" },
        { "proName": "NYSE:BA", "description": "Boeing" },
        { "proName": "NYSE:GE", "description": "General Electric" },
        { "proName": "NYSE:CAT", "description": "Caterpillar" },
        { "proName": "NYSE:DE", "description": "Deere & Co" },
        { "proName": "NYSE:MMM", "description": "3M" },
        { "proName": "NYSE:HON", "description": "Honeywell" },
        { "proName": "NYSE:UPS", "description": "UPS" },
        { "proName": "NYSE:FDX", "description": "FedEx" },
        { "proName": "NYSE:RTX", "description": "Raytheon" },
        { "proName": "NYSE:LMT", "description": "Lockheed Martin" }
    ];

    const BAR_2_SYMBOLS = [
        { "proName": "NYSE:MCD", "description": "McDonalds" },
        { "proName": "NYSE:SBUX", "description": "Starbucks" },
        { "proName": "NYSE:NKE", "description": "Nike" },
        { "proName": "NYSE:HD", "description": "Home Depot" },
        { "proName": "NYSE:LOW", "description": "Lowe's" },
        { "proName": "NYSE:TGT", "description": "Target" },
        { "proName": "NYSE:TJX", "description": "TJX Companies" },
        { "proName": "NYSE:C", "description": "Citigroup" },
        { "proName": "NYSE:BAC", "description": "Bank of America" },
        { "proName": "NYSE:WFC", "description": "Wells Fargo" },
        { "proName": "NYSE:MS", "description": "Morgan Stanley" },
        { "proName": "NYSE:GS", "description": "Goldman Sachs" },
        { "proName": "NYSE:BLK", "description": "BlackRock" },
        { "proName": "NYSE:AXP", "description": "Amex" },
        { "proName": "NYSE:SPGI", "description": "S&P Global" },
        { "proName": "NASDAQ:PYPL", "description": "PayPal" },
        { "proName": "NYSE:UBER", "description": "Uber" },
        { "proName": "NASDAQ:ABNB", "description": "Airbnb" },
        { "proName": "NASDAQ:BKNG", "description": "Booking" },
        { "proName": "NASDAQ:MAR", "description": "Marriott" },
        { "proName": "NYSE:H", "description": "Hyatt" },
        { "proName": "NYSE:DAL", "description": "Delta" },
        { "proName": "NASDAQ:UAL", "description": "United" },
        { "proName": "NYSE:LUV", "description": "Southwest" },
        { "proName": "NYSE:CCL", "description": "Carnival" },
        { "proName": "NYSE:RCL", "description": "Royal Caribbean" },
        { "proName": "NYSE:F", "description": "Ford" },
        { "proName": "NYSE:GM", "description": "GM" },
        { "proName": "NASDAQ:RIVN", "description": "Rivian" },
        { "proName": "NASDAQ:LCID", "description": "Lucid" },
        { "proName": "NYSE:TM", "description": "Toyota" },
        { "proName": "NYSE:HMC", "description": "Honda" },
        { "proName": "NYSE:STLA", "description": "Stellantis" },
        { "proName": "NYSE:PFE", "description": "Pfizer" },
        { "proName": "NYSE:MRK", "description": "Merck" },
        { "proName": "NYSE:ABBV", "description": "AbbVie" },
        { "proName": "NYSE:BMY", "description": "Bristol Myers" },
        { "proName": "NYSE:JNJ", "description": "Johnson & Johnson" },
        { "proName": "NASDAQ:AMGN", "description": "Amgen" },
        { "proName": "NASDAQ:GILD", "description": "Gilead" }
    ];

    const BAR_3_SYMBOLS = [
        { "proName": "NASDAQ:CSCO", "description": "Cisco" },
        { "proName": "NASDAQ:TXN", "description": "Texas Instruments" },
        { "proName": "NASDAQ:MU", "description": "Micron" },
        { "proName": "NASDAQ:LRCX", "description": "Lam Research" },
        { "proName": "NASDAQ:AMAT", "description": "Applied Materials" },
        { "proName": "NASDAQ:ADI", "description": "Analog Devices" },
        { "proName": "NASDAQ:NXPI", "description": "NXP Semi" },
        { "proName": "NASDAQ:KLAC", "description": "KLA Corp" },
        { "proName": "NASDAQ:SNPS", "description": "Synopsys" },
        { "proName": "NASDAQ:CDNS", "description": "Cadence" },
        { "proName": "NASDAQ:PANW", "description": "Palo Alto" },
        { "proName": "NASDAQ:FTNT", "description": "Fortinet" },
        { "proName": "NASDAQ:CRWD", "description": "CrowdStrike" },
        { "proName": "NASDAQ:ZS", "description": "Zscaler" },
        { "proName": "NYSE:PLTR", "description": "Palantir" },
        { "proName": "NYSE:SNOW", "description": "Snowflake" },
        { "proName": "NASDAQ:DDOG", "description": "Datadog" },
        { "proName": "NASDAQ:MDB", "description": "MongoDB" },
        { "proName": "NASDAQ:TEAM", "description": "Atlassian" },
        { "proName": "NYSE:SQ", "description": "Block" },
        { "proName": "NASDAQ:COIN", "description": "Coinbase" },
        { "proName": "NASDAQ:HOOD", "description": "Robinhood" },
        { "proName": "NYSE:SHOP", "description": "Shopify" },
        { "proName": "NYSE:SE", "description": "Sea Ltd" },
        { "proName": "NASDAQ:MELI", "description": "MercadoLibre" },
        { "proName": "NYSE:BABA", "description": "Alibaba" },
        { "proName": "NASDAQ:PDD", "description": "PDD Holdings" },
        { "proName": "NASDAQ:JD", "description": "JD.com" },
        { "proName": "NYSE:TSM", "description": "TSMC" },
        { "proName": "NYSE:SONY", "description": "Sony" },
        { "proName": "NYSE:NVS", "description": "Novartis" },
        { "proName": "NYSE:AZN", "description": "AstraZeneca" },
        { "proName": "NYSE:SHEL", "description": "Shell" },
        { "proName": "NYSE:TTE", "description": "TotalEnergies" },
        { "proName": "NYSE:BP", "description": "BP" },
        { "proName": "NYSE:RIO", "description": "Rio Tinto" },
        { "proName": "NYSE:BHP", "description": "BHP Group" },
        { "proName": "NYSE:VALE", "description": "Vale" }
    ];

    // --- LOGIC SECTION ---

    function createWidget(containerId, symbolList) {
        const container = document.getElementById(containerId);
        
        // Build the HTML structure
        const widgetDiv = document.createElement('div');
        widgetDiv.className = 'tradingview-widget-container';
        widgetDiv.innerHTML = '<div class="tradingview-widget-container__widget"></div>';
        container.appendChild(widgetDiv);

        // Inject the script
        const script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js';
        script.async = true;
        
        script.innerHTML = JSON.stringify({
            "symbols": symbolList,
            "showSymbolLogo": true,
            "colorTheme": "dark",
            "isTransparent": true,
            "displayMode": "adaptive",
            "locale": "en"
        });

        container.appendChild(script);
    }

    // Initialize with delays to prevent browser freezing
    function start() {
        createWidget('bar-1', BAR_1_SYMBOLS);
        
        setTimeout(() => {
            createWidget('bar-2', BAR_2_SYMBOLS);
        }, 2000);

        setTimeout(() => {
            createWidget('bar-3', BAR_3_SYMBOLS);
            document.getElementById('status').style.display = 'none';
        }, 4000);
    }

    start();

</script>
</body>
</html>